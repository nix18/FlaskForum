{% extends 'base.html' %}

{% block title %}注册{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login_regist.css') }}">
    <script>
        window.onload=function () {
            var pw0 = {{ pw0|tojson }}
            if (pw0){
                alert("手机号已被注册！")
            }
        }
    </script>
{% endblock %}

{% block main %}
    <h3 class="page-title">注册</h3>
    <form action="" method="POST">
        <div class="form-container">
            <div class="form-group">
                <input type="text" class="form-control" placeholder="手机号码" name="telephone" id="tel">
            </div>
            <div class="form-group">
                <input type="text" class="form-control" placeholder="用户名" name="username" id="name">
            </div>
            <div class="form-group">
                <input type="password" class="form-control" placeholder="密码" name="password0" id="pw0">
            </div>
            <div class="form-group">
                <input type="password" class="form-control" placeholder="确认密码" name="password1" id="pw1">
            </div>
            <div class="form-group">
                <input type="text" class="form-control" placeholder="邮箱" name="e-mail" id="e-mail">
            </div>
            <div class="form-group">
                <input type="text" class="form-control" placeholder="性别(可改)" name="gender" id="gender">
            </div>
            <div class="form-group">
                <input type="text" class="form-control" placeholder="年龄(可改)" name="age" id="age">
            </div>
            <div class="form-group">
                <button class="btn btn-primary btn-block" onclick="checkpw()">注册</button>
            </div>
        </div>
    </form>
    <script>
        function checkpw() {
            var pw0 = document.getElementById("pw0").value;
            var pw1 = document.getElementById("pw1").value;
            var tel = document.getElementById("tel").value;
            var name = document.getElementById("name").value;
            var email = document.getElementById("e-mail").value;
            var gender = document.getElementById("gender").value;
            var age = document.getElementById("age").value;
            if (pw0 != pw1){
                alert("两次密码不匹配！")
            }
            if (tel.length == 0 || name.length == 0 || email.length == 0 || gender.length == 0 || age.length == 0 || pw0.length == 0){
                alert("注册信息不能为空！")
            }
        }
    </script>
{% endblock %}